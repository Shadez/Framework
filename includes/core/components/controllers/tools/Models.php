<?php/** * Copyright (C) 2009-2012 Shadez <https://github.com/Shadez> * * This program is free software; you can redistribute it and/or modify * it under the terms of the GNU General Public License as published by * the Free Software Foundation; either version 2 of the License, or * (at your option) any later version. * * This program is distributed in the hope that it will be useful, * but WITHOUT ANY WARRANTY; without even the implied warranty of * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the * GNU General Public License for more details. * * You should have received a copy of the GNU General Public License * along with this program; if not, write to the Free Software * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA **/class Models_Tools_Controller_Component extends Controller_Component{	protected $m_action = '';	public function build($core)	{		$this->m_action = $core->getUrlAction(2);		if ($this->m_action == 'create')		{			$core->setVar('models', $this->c('Models', 'Tool'));			if (!isset($_GET['step']))				$this->buildBlock($this->m_action);			else			{				switch (intval($_GET['step']))				{					case 1:					case 2:					case 3:						$this->c('Models', 'Tool')->setStep(intval($_GET['step']));						break;				}				$this->buildBlock('modelscreatestep');			}		}		else			$this->buildBlock('main');		return $this;	}	protected function block_main()	{		return $this->block()			->setTemplate('models', 'default')			->setRegion('pagecontent');	}	protected function block_create()	{		return $this->block()			->setTemplate('modelscreate', 'default')			->setRegion('pagecontent');	}	protected function block_modelscreatestep()	{		return $this->block()			->setTemplate('modelscreate' . intval($_GET['step']), 'default')			->setRegion('pagecontent');	}}